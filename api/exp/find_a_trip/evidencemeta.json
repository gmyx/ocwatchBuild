{"queries":[{"id":"calendar","compiledQueryString":"select service_id from calendar\nwhere \n    sunday = IF('${inputs.selected_day.value}' = '0',true,false) AND\n    monday = IF('${inputs.selected_day.value}' = '1',true,false) AND\n    tuesday = IF('${inputs.selected_day.value}' = '2',true,false) AND\n    wednesday = IF('${inputs.selected_day.value}' = '3',true,false) AND\n    thursday = IF('${inputs.selected_day.value}' = '4',true,false) AND\n    friday = IF('${inputs.selected_day.value}' = '5',true,false) AND\n    saturday = IF('${inputs.selected_day.value}' = '6',true,false)","inputQueryString":"select service_id from calendar\nwhere \n    sunday = IF('${inputs.selected_day.value}' = '0',true,false) AND\n    monday = IF('${inputs.selected_day.value}' = '1',true,false) AND\n    tuesday = IF('${inputs.selected_day.value}' = '2',true,false) AND\n    wednesday = IF('${inputs.selected_day.value}' = '3',true,false) AND\n    thursday = IF('${inputs.selected_day.value}' = '4',true,false) AND\n    friday = IF('${inputs.selected_day.value}' = '5',true,false) AND\n    saturday = IF('${inputs.selected_day.value}' = '6',true,false)","compiled":false,"inline":true},{"id":"routes","compiledQueryString":"select *, route_id || ' ' || route_long_name as displayName from GTFS.routes","inputQueryString":"select *, route_id || ' ' || route_long_name as displayName from GTFS.routes","compiled":false,"inline":true},{"id":"trips","compiledQueryString":"select trip_id from GTFS.trips where route_id = '${inputs.selected_route.value}' and service_id in (select service_id from calendar\nwhere \n    sunday = IF('${inputs.selected_day.value}' = '0',true,false) AND\n    monday = IF('${inputs.selected_day.value}' = '1',true,false) AND\n    tuesday = IF('${inputs.selected_day.value}' = '2',true,false) AND\n    wednesday = IF('${inputs.selected_day.value}' = '3',true,false) AND\n    thursday = IF('${inputs.selected_day.value}' = '4',true,false) AND\n    friday = IF('${inputs.selected_day.value}' = '5',true,false) AND\n    saturday = IF('${inputs.selected_day.value}' = '6',true,false))","inputQueryString":"select trip_id from GTFS.trips where route_id = '${inputs.selected_route.value}' and service_id in ${calendar}","compiled":true,"inline":true},{"id":"stop_times_stops","compiledQueryString":"select stop_id from GTFS.stop_times where trip_id = '${inputs.selected_trip.value}'","inputQueryString":"select stop_id from GTFS.stop_times where trip_id = '${inputs.selected_trip.value}'","compiled":false,"inline":true},{"id":"stop_times","compiledQueryString":"select DISTINCT ON(arrival_time) *  from GTFS.stop_times where trip_id in (select trip_id from GTFS.trips where route_id = '${inputs.selected_route.value}' and service_id in (select service_id from calendar\nwhere \n    sunday = IF('${inputs.selected_day.value}' = '0',true,false) AND\n    monday = IF('${inputs.selected_day.value}' = '1',true,false) AND\n    tuesday = IF('${inputs.selected_day.value}' = '2',true,false) AND\n    wednesday = IF('${inputs.selected_day.value}' = '3',true,false) AND\n    thursday = IF('${inputs.selected_day.value}' = '4',true,false) AND\n    friday = IF('${inputs.selected_day.value}' = '5',true,false) AND\n    saturday = IF('${inputs.selected_day.value}' = '6',true,false))) and stop_sequence = 1 ORDER BY arrival_time","inputQueryString":"select DISTINCT ON(arrival_time) *  from GTFS.stop_times where trip_id in ${trips} and stop_sequence = 1 ORDER BY arrival_time","compiled":true,"inline":true},{"id":"shapes","compiledQueryString":"select * from GTFS.shapes where shape_id in (select shape_id from GTFS.trips where trip_id like '${inputs.selected_trip.value}')","inputQueryString":"select * from GTFS.shapes where shape_id in ${trips_shapeid}","compiled":true,"inline":true},{"id":"trips_shapeid","compiledQueryString":"select shape_id from GTFS.trips where trip_id like '${inputs.selected_trip.value}'","inputQueryString":"select shape_id from GTFS.trips where trip_id like '${inputs.selected_trip.value}'","compiled":false,"inline":true},{"id":"stops","compiledQueryString":"select GTFS.stops.stop_id, stop_lat, stop_lon, stop_name, arrival_time, stop_sequence\nfrom GTFS.stops JOIN GTFS.stop_times ON (GTFS.stop_times.stop_id = GTFS.stops.stop_id and GTFS.stop_times.trip_id = '${inputs.selected_trip.value}')\norder by stop_sequence","inputQueryString":"select GTFS.stops.stop_id, stop_lat, stop_lon, stop_name, arrival_time, stop_sequence\nfrom GTFS.stops JOIN GTFS.stop_times ON (GTFS.stop_times.stop_id = GTFS.stops.stop_id and GTFS.stop_times.trip_id = '${inputs.selected_trip.value}')\norder by stop_sequence","compiled":false,"inline":true},{"id":"select_trip_details","compiledQueryString":"select \n    GTFS.trips.trip_id, trip_headsign || ' - ' ||\n    case \n    when monday = true then 'Monday'\n    when tuesday = true then 'Tuesday'\n    when wednesday = true then 'Wednesday'\n    when thursday = true then 'Thursday'\n    when friday = true then 'Friday'\n    when saturday = true then 'Saturday'\n    when sunday = true then 'Sunday'\n    end || ' @ ' || arrival_time as displayName\nfrom (GTFS.trips NATURAL JOIN GTFS.calendar) INNER JOIN GTFS.stop_times on GTFS.trips.trip_id = GTFS.stop_times.trip_id and GTFS.stop_times.stop_sequence = 1\nwhere GTFS.trips.trip_id = '${inputs.selected_trip.value}'","inputQueryString":"select \n    GTFS.trips.trip_id, trip_headsign || ' - ' ||\n    case \n    when monday = true then 'Monday'\n    when tuesday = true then 'Tuesday'\n    when wednesday = true then 'Wednesday'\n    when thursday = true then 'Thursday'\n    when friday = true then 'Friday'\n    when saturday = true then 'Saturday'\n    when sunday = true then 'Sunday'\n    end || ' @ ' || arrival_time as displayName\nfrom (GTFS.trips NATURAL JOIN GTFS.calendar) INNER JOIN GTFS.stop_times on GTFS.trips.trip_id = GTFS.stop_times.trip_id and GTFS.stop_times.stop_sequence = 1\nwhere GTFS.trips.trip_id = '${inputs.selected_trip.value}'","compiled":false,"inline":true}]}