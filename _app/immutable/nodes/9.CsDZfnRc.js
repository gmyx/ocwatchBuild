import{s as U,a as L,e as R,b,c as G,h as V,d as M,f as p,i as T,j as Q,k as q,l as D,m as z,o as K,p as P,q as H,n as w}from"../chunks/scheduler.CwZefb0o.js";import{S as X,i as Y,t as E,a as C,c as B,b as J,d as W,m as Z,e as $,g as ee}from"../chunks/index.RfiDZozx.js";import"../chunks/VennDiagram.svelte_svelte_type_style_lang.DO7fS-r7.js";import{w as te}from"../chunks/entry.BUeAk5M5.js";import{s as ae,Q as h,p as re,r as N,C as ne,t as O}from"../chunks/inferColumnTypes.B7BPdMWL.js";import{h as j}from"../chunks/setTrackProxy.Cyfckp0w.js";import{e as oe,p as se}from"../chunks/inputs.B-6hjrb4.js";import{p as ie}from"../chunks/stores.BeSvxQIP.js";import{Q as le}from"../chunks/QueryViewer.CF_UXxUI.js";function ce(i){return{c(){this.h()},l(n){this.h()},h(){document.title="Evidence"},m:w,p:w,d:w}}function x(i){let n,r;return n=new le({props:{queryID:"calendar",queryResult:i[0]}}),{c(){J(n.$$.fragment)},l(t){W(n.$$.fragment,t)},m(t,l){Z(n,t,l),r=!0},p(t,l){const c={};l&1&&(c.queryResult=t[0]),n.$set(c)},i(t){r||(E(n.$$.fragment,t),r=!0)},o(t){C(n.$$.fragment,t),r=!1},d(t){$(n,t)}}}function ue(i){let n,r,t,l,c,s,m;function g(e,o){return ce}let d=g()(i),a=i[0]&&x(i);return{c(){n=L(),d.c(),r=R("meta"),t=R("meta"),l=b(),c=L(),a&&a.c(),s=b(),this.h()},l(e){n=G(e);const o=V("svelte-1j2izld",document.head);d.l(o),r=M(o,"META",{name:!0,content:!0}),t=M(o,"META",{name:!0,content:!0}),l=b(),o.forEach(p),c=G(e),a&&a.l(e),s=b(),this.h()},h(){T(r,"name","twitter:card"),T(r,"content","summary"),T(t,"name","twitter:site"),T(t,"content","@evidence_dev")},m(e,o){Q(e,n,o),d.m(document.head,null),q(document.head,r),q(document.head,t),q(document.head,l),Q(e,c,o),a&&a.m(e,o),Q(e,s,o),m=!0},p(e,[o]){d.p(e,o),e[0]?a?(a.p(e,o),o&1&&E(a,1)):(a=x(e),a.c(),E(a,1),a.m(s.parentNode,s)):a&&(ee(),C(a,1,1,()=>{a=null}),B())},i(e){m||(E(a),m=!0)},o(e){C(a),m=!1},d(e){e&&(p(n),p(c),p(s)),d.d(e),p(r),p(t),p(l),a&&a.d(e)}}}function me(i,n,r){let t,l;D(i,ie,u=>r(7,t=u)),D(i,N,u=>r(14,l=u));let{data:c}=n,{data:s={},customFormattingSettings:m,__db:g,inputs:F}=c;z(N,l="efe7adb24611f35b88d5b0a1aceacc03",l);let d=oe(te(F));K(d.subscribe(u=>F=u)),P(ne,{getCustomFormats:()=>m.customFormats||[]});const a=(u,A)=>se(g.query,u,{query_name:A});ae(a);let e;const o=()=>{e||(e=setTimeout(()=>{O.add({id:"LoadingToast",title:"",message:"Loading...",status:"info"},0)},3e3))},I=()=>{e?(clearTimeout(e),e=null):O.dismiss("LoadingToast")};H(()=>(h.addEventListener("inFlightQueryStart",o),h.addEventListener("inFlightQueryEnd",I),h.QueriesLoading&&o(),()=>{h.removeEventListener("inFlightQueryStart",o),h.removeEventListener("inFlightQueryEnd",I)})),t.params,H(()=>!0);let f={initialData:void 0,initialError:void 0},_=j`select * from GTFS.calendar`,y="select * from GTFS.calendar";s.calendar_data&&(s.calendar_data instanceof Error?f.initialError=s.calendar_data:f.initialData=s.calendar_data,s.calendar_columns&&(f.knownColumns=s.calendar_columns));let v,S=!1;const k=h.createReactive({callback:u=>{r(0,v=u)},execFn:a},{id:"calendar",...f});return k(y,{noResolve:_,...f}),globalThis[Symbol.for("calendar")]={get value(){return v}},i.$$set=u=>{"data"in u&&r(1,c=u.data)},i.$$.update=()=>{i.$$.dirty&2&&r(2,{data:s={},customFormattingSettings:m,__db:g}=c,s),i.$$.dirty&4&&re.set(Object.keys(s).length>0),i.$$.dirty&128&&t.params,i.$$.dirty&120&&(_||!S?_||(k(y,{noResolve:_,...f}),r(6,S=!0)):k(y,{noResolve:_}))},r(4,_=j`select * from GTFS.calendar`),r(5,y="select * from GTFS.calendar"),[v,c,s,f,_,y,S,t]}class Ee extends X{constructor(n){super(),Y(this,n,me,ue,U,{data:1})}}export{Ee as component};
