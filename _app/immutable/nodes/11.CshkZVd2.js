import{s as U,a as L,e as R,b,c as G,h as V,d as M,f as p,i as T,j as Q,k as q,l as D,m as z,o as K,p as P,q as H,n as w}from"../chunks/scheduler.CwZefb0o.js";import{S as X,i as Y,t as E,a as C,c as B,b as J,d as W,m as Z,e as $,g as ee}from"../chunks/index.RfiDZozx.js";import"../chunks/VennDiagram.svelte_svelte_type_style_lang.DO7fS-r7.js";import{w as te}from"../chunks/entry.BUeAk5M5.js";import{s as re,Q as h,p as oe,r as N,C as se,t as O}from"../chunks/inferColumnTypes.B7BPdMWL.js";import{h as j}from"../chunks/setTrackProxy.Cyfckp0w.js";import{e as ae,p as ne}from"../chunks/inputs.B-6hjrb4.js";import{p as ie}from"../chunks/stores.BeSvxQIP.js";import{Q as ue}from"../chunks/QueryViewer.CF_UXxUI.js";function ce(i){return{c(){this.h()},l(s){this.h()},h(){document.title="Evidence"},m:w,p:w,d:w}}function x(i){let s,o;return s=new ue({props:{queryID:"routes",queryResult:i[0]}}),{c(){J(s.$$.fragment)},l(t){W(s.$$.fragment,t)},m(t,u){Z(s,t,u),o=!0},p(t,u){const c={};u&1&&(c.queryResult=t[0]),s.$set(c)},i(t){o||(E(s.$$.fragment,t),o=!0)},o(t){C(s.$$.fragment,t),o=!1},d(t){$(s,t)}}}function le(i){let s,o,t,u,c,n,m;function g(e,a){return ce}let d=g()(i),r=i[0]&&x(i);return{c(){s=L(),d.c(),o=R("meta"),t=R("meta"),u=b(),c=L(),r&&r.c(),n=b(),this.h()},l(e){s=G(e);const a=V("svelte-1j2izld",document.head);d.l(a),o=M(a,"META",{name:!0,content:!0}),t=M(a,"META",{name:!0,content:!0}),u=b(),a.forEach(p),c=G(e),r&&r.l(e),n=b(),this.h()},h(){T(o,"name","twitter:card"),T(o,"content","summary"),T(t,"name","twitter:site"),T(t,"content","@evidence_dev")},m(e,a){Q(e,s,a),d.m(document.head,null),q(document.head,o),q(document.head,t),q(document.head,u),Q(e,c,a),r&&r.m(e,a),Q(e,n,a),m=!0},p(e,[a]){d.p(e,a),e[0]?r?(r.p(e,a),a&1&&E(r,1)):(r=x(e),r.c(),E(r,1),r.m(n.parentNode,n)):r&&(ee(),C(r,1,1,()=>{r=null}),B())},i(e){m||(E(r),m=!0)},o(e){C(r),m=!1},d(e){e&&(p(s),p(c),p(n)),d.d(e),p(o),p(t),p(u),r&&r.d(e)}}}function me(i,s,o){let t,u;D(i,ie,l=>o(7,t=l)),D(i,N,l=>o(14,u=l));let{data:c}=s,{data:n={},customFormattingSettings:m,__db:g,inputs:F}=c;z(N,u="c0c3edbcbc45dd982ec159a81ea8cd85",u);let d=ae(te(F));K(d.subscribe(l=>F=l)),P(se,{getCustomFormats:()=>m.customFormats||[]});const r=(l,A)=>ne(g.query,l,{query_name:A});re(r);let e;const a=()=>{e||(e=setTimeout(()=>{O.add({id:"LoadingToast",title:"",message:"Loading...",status:"info"},0)},3e3))},I=()=>{e?(clearTimeout(e),e=null):O.dismiss("LoadingToast")};H(()=>(h.addEventListener("inFlightQueryStart",a),h.addEventListener("inFlightQueryEnd",I),h.QueriesLoading&&a(),()=>{h.removeEventListener("inFlightQueryStart",a),h.removeEventListener("inFlightQueryEnd",I)})),t.params,H(()=>!0);let _={initialData:void 0,initialError:void 0},f=j`select * from GTFS.routes`,y="select * from GTFS.routes";n.routes_data&&(n.routes_data instanceof Error?_.initialError=n.routes_data:_.initialData=n.routes_data,n.routes_columns&&(_.knownColumns=n.routes_columns));let v,S=!1;const k=h.createReactive({callback:l=>{o(0,v=l)},execFn:r},{id:"routes",..._});return k(y,{noResolve:f,..._}),globalThis[Symbol.for("routes")]={get value(){return v}},i.$$set=l=>{"data"in l&&o(1,c=l.data)},i.$$.update=()=>{i.$$.dirty&2&&o(2,{data:n={},customFormattingSettings:m,__db:g}=c,n),i.$$.dirty&4&&oe.set(Object.keys(n).length>0),i.$$.dirty&128&&t.params,i.$$.dirty&120&&(f||!S?f||(k(y,{noResolve:f,..._}),o(6,S=!0)):k(y,{noResolve:f}))},o(4,f=j`select * from GTFS.routes`),o(5,y="select * from GTFS.routes"),[v,c,n,_,f,y,S,t]}class Ee extends X{constructor(s){super(),Y(this,s,me,le,U,{data:1})}}export{Ee as component};
