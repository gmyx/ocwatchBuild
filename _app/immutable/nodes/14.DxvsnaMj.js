import{s as q,a as w,e as b,b as C,c as F,h as M,d as E,f as l,g as O,i as p,j as T,k as v,n as _,l as k,m as j,o as A,p as H,q as x}from"../chunks/scheduler.D4_7AI4m.js";import{S as N,i as G}from"../chunks/index.DeqhCWiI.js";import{p as P}from"../chunks/stores.C548N2Ne.js";import{s as z,p as D,r as S,C as K,Q as h,t as L}from"../chunks/inferColumnTypes.DOzp9NDw.js";import{w as R}from"../chunks/entry.CBSipulH.js";import{e as U,p as X}from"../chunks/inputs.BXb6Hm7i.js";function Y(n){return{c(){this.h()},l(i){this.h()},h(){document.title="Evidence"},m:_,p:_,d:_}}function B(n){let i,s,r,c,u,a,d="Cannot show raw data for this table. It contains ~4.8 million rows and will hang your browser";function f(e,t){return Y}let m=f()(n);return{c(){i=w(),m.c(),s=b("meta"),r=b("meta"),c=C(),u=w(),a=b("p"),a.textContent=d,this.h()},l(e){i=F(e);const t=M("svelte-1j2izld",document.head);m.l(t),s=E(t,"META",{name:!0,content:!0}),r=E(t,"META",{name:!0,content:!0}),c=C(),t.forEach(l),u=F(e),a=E(e,"P",{class:!0,"data-svelte-h":!0}),O(a)!=="svelte-78wbkc"&&(a.textContent=d),this.h()},h(){p(s,"name","twitter:card"),p(s,"content","summary"),p(r,"name","twitter:site"),p(r,"content","@evidence_dev"),p(a,"class","markdown")},m(e,t){T(e,i,t),m.m(document.head,null),v(document.head,s),v(document.head,r),v(document.head,c),T(e,u,t),T(e,a,t)},p(e,[t]){m.p(e,t)},i:_,o:_,d(e){e&&(l(i),l(u),l(a)),m.d(e),l(s),l(r),l(c)}}}function J(n,i,s){let r,c;k(n,P,o=>s(2,r=o)),k(n,S,o=>s(9,c=o));let{data:u}=i,{data:a={},customFormattingSettings:d,__db:f,inputs:y}=u;j(S,c="2940aa12ce568187e4c9d3cc06be3694",c);let m=U(R(y));A(m.subscribe(o=>y=o)),H(K,{getCustomFormats:()=>d.customFormats||[]}),z((o,I)=>X(f.query,o,{query_name:I}));let t;const g=()=>{t||(t=setTimeout(()=>{L.add({id:"LoadingToast",title:"",message:"Loading...",status:"info"},0)},3e3))},Q=()=>{t?(clearTimeout(t),t=null):L.dismiss("LoadingToast")};return x(()=>(h.addEventListener("inFlightQueryStart",g),h.addEventListener("inFlightQueryEnd",Q),h.QueriesLoading&&g(),()=>{h.removeEventListener("inFlightQueryStart",g),h.removeEventListener("inFlightQueryEnd",Q)})),r.params,x(()=>!0),n.$$set=o=>{"data"in o&&s(0,u=o.data)},n.$$.update=()=>{n.$$.dirty&1&&s(1,{data:a={},customFormattingSettings:d,__db:f}=u,a),n.$$.dirty&2&&D.set(Object.keys(a).length>0),n.$$.dirty&4&&r.params},[u,a,r]}class at extends N{constructor(i){super(),G(this,i,J,B,q,{data:0})}}export{at as component};
