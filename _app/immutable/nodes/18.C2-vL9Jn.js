import{s as Ue,e as ve,t as Ge,a as F,d as we,r as Be,u as De,c as S,f as d,i as le,j as v,k as _e,y as Pe,n as ne,b as Ce,h as Ve,g as Ke,l as Re,m as Xe,o as We,p as Ze,q as qe}from"../chunks/scheduler.D4_7AI4m.js";import{S as Ye,i as Je,b as y,d as b,m as G,t as f,a as _,c as pe,e as D,g as fe}from"../chunks/index.DeqhCWiI.js";import{D as ke,C as oe}from"../chunks/VennDiagram.svelte_svelte_type_style_lang.VCOE_R-_.js";import{v as xe,w as et}from"../chunks/entry.CBSipulH.js";import{s as tt,Q as P,p as st,r as Ee,C as rt,t as Oe}from"../chunks/inferColumnTypes.DOzp9NDw.js";import{h as L}from"../chunks/setTrackProxy.Cyfckp0w.js";import{e as at,p as it}from"../chunks/inputs.BXb6Hm7i.js";import{D as Ie,a as ot}from"../chunks/Dropdown.911wsjkO.js";import{p as lt}from"../chunks/stores.C548N2Ne.js";import{Q as de}from"../chunks/QueryViewer.BpTfvmih.js";import{B as nt,P as be}from"../chunks/Points.zTcJdWLq.js";function ut(a){let s,r,e,u;return{c(){s=ve("p"),r=Ge(a[0]),e=F(),u=Ge(a[2]),this.h()},l(m){s=we(m,"P",{class:!0,title:!0});var i=Be(s);r=De(i,a[0]),e=S(i),u=De(i,a[2]),i.forEach(d),this.h()},h(){le(s,"class","text-sm py-1 cursor-text"),le(s,"title",new Date(a[1]).toLocaleString())},m(m,i){v(m,s,i),_e(s,r),_e(s,e),_e(s,u)},p(m,[i]){i&1&&Pe(r,m[0])},i:ne,o:ne,d(m){m&&d(s)}}}function mt(a,s){const r=Math.floor((s-a)/1e3);if(r<60)return r===1?"1 second ago":`${r} seconds ago`;if(r<3600){const e=Math.round(r/60);return e===1?"1 min ago":`${e} mins ago`}else if(r<86400){const e=(r/3600).toFixed(1);return e==="1"?"1 hour ago":`${e} hours ago`}else if(r<604800){const e=Math.round(r/86400);return e===1?"1 day ago":`${e} days ago`}else if(r<2592e3){const e=Math.round(r/604800);return e===1?"1 week ago":`${e} weeks ago`}else if(r<31536e3){const e=Math.round(r/2592e3);return e===1?"1 month ago":`${e} months ago`}else{const e=Math.round(r/31536e3);return e===1?"1 year ago":`${e} years ago`}}function pt(a,s,r){const e=Number(xe);let{prefix:u="Last refreshed"}=s;const m=mt(e,Date.now());return a.$$set=i=>{"prefix"in i&&r(0,u=i.prefix)},[u,e,m]}class ft extends Ye{constructor(s){super(),Je(this,s,pt,ut,Ue,{prefix:0})}}function _t(a){return{c(){this.h()},l(s){this.h()},h(){document.title="Evidence"},m:ne,p:ne,d:ne}}function Ne(a){let s,r;return s=new de({props:{queryID:"stops",queryResult:a[1]}}),{c(){y(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,u){G(s,e,u),r=!0},p(e,u){const m={};u[0]&2&&(m.queryResult=e[1]),s.$set(m)},i(e){r||(f(s.$$.fragment,e),r=!0)},o(e){_(s.$$.fragment,e),r=!1},d(e){D(s,e)}}}function je(a){let s,r;return s=new de({props:{queryID:"rawdata",queryResult:a[2]}}),{c(){y(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,u){G(s,e,u),r=!0},p(e,u){const m={};u[0]&4&&(m.queryResult=e[2]),s.$set(m)},i(e){r||(f(s.$$.fragment,e),r=!0)},o(e){_(s.$$.fragment,e),r=!1},d(e){D(s,e)}}}function Me(a){let s,r;return s=new de({props:{queryID:"shapes",queryResult:a[3]}}),{c(){y(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,u){G(s,e,u),r=!0},p(e,u){const m={};u[0]&8&&(m.queryResult=e[3]),s.$set(m)},i(e){r||(f(s.$$.fragment,e),r=!0)},o(e){_(s.$$.fragment,e),r=!1},d(e){D(s,e)}}}function Le(a){let s,r;return s=new de({props:{queryID:"trips_shapeid",queryResult:a[4]}}),{c(){y(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,u){G(s,e,u),r=!0},p(e,u){const m={};u[0]&16&&(m.queryResult=e[4]),s.$set(m)},i(e){r||(f(s.$$.fragment,e),r=!0)},o(e){_(s.$$.fragment,e),r=!1},d(e){D(s,e)}}}function Qe(a){let s,r;return s=new de({props:{queryID:"trips",queryResult:a[5]}}),{c(){y(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,u){G(s,e,u),r=!0},p(e,u){const m={};u[0]&32&&(m.queryResult=e[5]),s.$set(m)},i(e){r||(f(s.$$.fragment,e),r=!0)},o(e){_(s.$$.fragment,e),r=!1},d(e){D(s,e)}}}function Ae(a){let s,r;return s=new de({props:{queryID:"timestamps",queryResult:a[6]}}),{c(){y(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,u){G(s,e,u),r=!0},p(e,u){const m={};u[0]&64&&(m.queryResult=e[6]),s.$set(m)},i(e){r||(f(s.$$.fragment,e),r=!0)},o(e){_(s.$$.fragment,e),r=!1},d(e){D(s,e)}}}function He(a){let s,r;return s=new de({props:{queryID:"routes",queryResult:a[7]}}),{c(){y(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,u){G(s,e,u),r=!0},p(e,u){const m={};u[0]&128&&(m.queryResult=e[7]),s.$set(m)},i(e){r||(f(s.$$.fragment,e),r=!0)},o(e){_(s.$$.fragment,e),r=!1},d(e){D(s,e)}}}function dt(a){let s,r,e,u,m,i,p,C,n,N,w,I,O,V;return s=new oe({props:{id:"run_timestamp",title:"Runtime",fmt:"yyyy/mm/dd hh:MM:ss.000"}}),e=new oe({props:{id:"run_id",title:"Run ID"}}),m=new oe({props:{id:"position_bearing",title:"Bearing"}}),p=new oe({props:{id:"Position_lon",title:"Longitude",fmt:"###.##############"}}),n=new oe({props:{id:"position_lat",title:"Latitute",fmt:"###.##############"}}),w=new oe({props:{id:"trip_route",title:"Route #"}}),O=new oe({props:{id:"vehicle_id",title:"Bus #"}}),{c(){y(s.$$.fragment),r=F(),y(e.$$.fragment),u=F(),y(m.$$.fragment),i=F(),y(p.$$.fragment),C=F(),y(n.$$.fragment),N=F(),y(w.$$.fragment),I=F(),y(O.$$.fragment)},l(l){b(s.$$.fragment,l),r=S(l),b(e.$$.fragment,l),u=S(l),b(m.$$.fragment,l),i=S(l),b(p.$$.fragment,l),C=S(l),b(n.$$.fragment,l),N=S(l),b(w.$$.fragment,l),I=S(l),b(O.$$.fragment,l)},m(l,c){G(s,l,c),v(l,r,c),G(e,l,c),v(l,u,c),G(m,l,c),v(l,i,c),G(p,l,c),v(l,C,c),G(n,l,c),v(l,N,c),G(w,l,c),v(l,I,c),G(O,l,c),V=!0},p:ne,i(l){V||(f(s.$$.fragment,l),f(e.$$.fragment,l),f(m.$$.fragment,l),f(p.$$.fragment,l),f(n.$$.fragment,l),f(w.$$.fragment,l),f(O.$$.fragment,l),V=!0)},o(l){_(s.$$.fragment,l),_(e.$$.fragment,l),_(m.$$.fragment,l),_(p.$$.fragment,l),_(n.$$.fragment,l),_(w.$$.fragment,l),_(O.$$.fragment,l),V=!1},d(l){l&&(d(r),d(u),d(i),d(C),d(N),d(I)),D(s,l),D(e,l),D(m,l),D(p,l),D(n,l),D(w,l),D(O,l)}}}function ct(a){let s,r;return s=new oe({props:{id:"frts",title:"Runtime",fmt:"yyyy/mm/dd hh:MM:ss.000"}}),{c(){y(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,u){G(s,e,u),r=!0},p:ne,i(e){r||(f(s.$$.fragment,e),r=!0)},o(e){_(s.$$.fragment,e),r=!1},d(e){D(s,e)}}}function $t(a){let s,r;return s=new ot({props:{valueLabel:"All",value:"%%"}}),{c(){y(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,u){G(s,e,u),r=!0},p:ne,i(e){r||(f(s.$$.fragment,e),r=!0)},o(e){_(s.$$.fragment,e),r=!1},d(e){D(s,e)}}}function gt(a){let s,r,e,u,m,i;return s=new be({props:{data:a[3],lat:"shape_pt_lat",long:"shape_pt_lon",color:"blue"}}),e=new be({props:{data:a[1],lat:"stop_lat",long:"stop_lon",pointName:"stop_id",color:"red",tooltip:[{id:"stop_name",showColumnName:!1,valueClass:"text-xl font-semibold"},{id:"arrival_time",fmt:"arrival_time",showColumnName:!1,valueClass:"text-xl font-semibold"},{id:"stop_id",fmt:"0000",showColumnName:!0}]}}),m=new be({props:{data:a[2],lat:"position_lat",long:"Position_lon",pointName:"trip_route",tooltipType:"hover",tooltip:[{id:"trip_route",showColumnName:!1,valueClass:"text-xl font-semibold"},{id:"trip_headsign",showColumnName:!1,valueClass:"text-xl font-semibold"},{id:"vehicle_id"}],color:"green",size:"10"}}),{c(){y(s.$$.fragment),r=F(),y(e.$$.fragment),u=F(),y(m.$$.fragment)},l(p){b(s.$$.fragment,p),r=S(p),b(e.$$.fragment,p),u=S(p),b(m.$$.fragment,p)},m(p,C){G(s,p,C),v(p,r,C),G(e,p,C),v(p,u,C),G(m,p,C),i=!0},p(p,C){const n={};C[0]&8&&(n.data=p[3]),s.$set(n);const N={};C[0]&2&&(N.data=p[1]),e.$set(N);const w={};C[0]&4&&(w.data=p[2]),m.$set(w)},i(p){i||(f(s.$$.fragment,p),f(e.$$.fragment,p),f(m.$$.fragment,p),i=!0)},o(p){_(s.$$.fragment,p),_(e.$$.fragment,p),_(m.$$.fragment,p),i=!1},d(p){p&&(d(r),d(u)),D(s,p),D(e,p),D(m,p)}}}function vt(a){let s,r,e,u,m,i,p,C,n,N,w,I,O,V="#Hello world",l,c,K,A,re,H,U,j,X,Y,ee=a[0].selected_timestamp.value+"",ae,B,M,W,J,te;function $e(t,o){return _t}let Q=$e()(a),T=a[1]&&Ne(a),R=a[2]&&je(a),q=a[3]&&Me(a),k=a[4]&&Le(a),$=a[5]&&Qe(a),g=a[6]&&Ae(a),h=a[7]&&He(a);return c=new ke({props:{data:a[2],$$slots:{default:[dt]},$$scope:{ctx:a}}}),A=new ke({props:{data:a[6],$$slots:{default:[ct]},$$scope:{ctx:a}}}),H=new Ie({props:{data:a[6],title:"Select a Time to view",name:"selected_timestamp",value:"run_id",label:"frts"}}),j=new Ie({props:{data:a[7],title:"Select a route",name:"selected_route",value:"route_id",label:"route_short_name",$$slots:{default:[$t]},$$scope:{ctx:a}}}),M=new nt({props:{height:"600",title:"Route Map",$$slots:{default:[gt]},$$scope:{ctx:a}}}),J=new ft({props:{prefix:"Data last updated"}}),{c(){s=F(),Q.c(),r=ve("meta"),e=ve("meta"),u=Ce(),m=F(),T&&T.c(),i=F(),R&&R.c(),p=F(),q&&q.c(),C=F(),k&&k.c(),n=F(),$&&$.c(),N=F(),g&&g.c(),w=F(),h&&h.c(),I=F(),O=ve("p"),O.textContent=V,l=F(),y(c.$$.fragment),K=F(),y(A.$$.fragment),re=F(),y(H.$$.fragment),U=F(),y(j.$$.fragment),X=F(),Y=ve("p"),ae=Ge(ee),B=F(),y(M.$$.fragment),W=F(),y(J.$$.fragment),this.h()},l(t){s=S(t);const o=Ve("svelte-1j2izld",document.head);Q.l(o),r=we(o,"META",{name:!0,content:!0}),e=we(o,"META",{name:!0,content:!0}),u=Ce(),o.forEach(d),m=S(t),T&&T.l(t),i=S(t),R&&R.l(t),p=S(t),q&&q.l(t),C=S(t),k&&k.l(t),n=S(t),$&&$.l(t),N=S(t),g&&g.l(t),w=S(t),h&&h.l(t),I=S(t),O=we(t,"P",{class:!0,"data-svelte-h":!0}),Ke(O)!=="svelte-lhf3z3"&&(O.textContent=V),l=S(t),b(c.$$.fragment,t),K=S(t),b(A.$$.fragment,t),re=S(t),b(H.$$.fragment,t),U=S(t),b(j.$$.fragment,t),X=S(t),Y=we(t,"P",{class:!0});var Z=Be(Y);ae=De(Z,ee),Z.forEach(d),B=S(t),b(M.$$.fragment,t),W=S(t),b(J.$$.fragment,t),this.h()},h(){le(r,"name","twitter:card"),le(r,"content","summary"),le(e,"name","twitter:site"),le(e,"content","@evidence_dev"),le(O,"class","markdown"),le(Y,"class","markdown")},m(t,o){v(t,s,o),Q.m(document.head,null),_e(document.head,r),_e(document.head,e),_e(document.head,u),v(t,m,o),T&&T.m(t,o),v(t,i,o),R&&R.m(t,o),v(t,p,o),q&&q.m(t,o),v(t,C,o),k&&k.m(t,o),v(t,n,o),$&&$.m(t,o),v(t,N,o),g&&g.m(t,o),v(t,w,o),h&&h.m(t,o),v(t,I,o),v(t,O,o),v(t,l,o),G(c,t,o),v(t,K,o),G(A,t,o),v(t,re,o),G(H,t,o),v(t,U,o),G(j,t,o),v(t,X,o),v(t,Y,o),_e(Y,ae),v(t,B,o),G(M,t,o),v(t,W,o),G(J,t,o),te=!0},p(t,o){Q.p(t,o),t[1]?T?(T.p(t,o),o[0]&2&&f(T,1)):(T=Ne(t),T.c(),f(T,1),T.m(i.parentNode,i)):T&&(fe(),_(T,1,1,()=>{T=null}),pe()),t[2]?R?(R.p(t,o),o[0]&4&&f(R,1)):(R=je(t),R.c(),f(R,1),R.m(p.parentNode,p)):R&&(fe(),_(R,1,1,()=>{R=null}),pe()),t[3]?q?(q.p(t,o),o[0]&8&&f(q,1)):(q=Me(t),q.c(),f(q,1),q.m(C.parentNode,C)):q&&(fe(),_(q,1,1,()=>{q=null}),pe()),t[4]?k?(k.p(t,o),o[0]&16&&f(k,1)):(k=Le(t),k.c(),f(k,1),k.m(n.parentNode,n)):k&&(fe(),_(k,1,1,()=>{k=null}),pe()),t[5]?$?($.p(t,o),o[0]&32&&f($,1)):($=Qe(t),$.c(),f($,1),$.m(N.parentNode,N)):$&&(fe(),_($,1,1,()=>{$=null}),pe()),t[6]?g?(g.p(t,o),o[0]&64&&f(g,1)):(g=Ae(t),g.c(),f(g,1),g.m(w.parentNode,w)):g&&(fe(),_(g,1,1,()=>{g=null}),pe()),t[7]?h?(h.p(t,o),o[0]&128&&f(h,1)):(h=He(t),h.c(),f(h,1),h.m(I.parentNode,I)):h&&(fe(),_(h,1,1,()=>{h=null}),pe());const Z={};o[0]&4&&(Z.data=t[2]),o[1]&67108864&&(Z.$$scope={dirty:o,ctx:t}),c.$set(Z);const z={};o[0]&64&&(z.data=t[6]),o[1]&67108864&&(z.$$scope={dirty:o,ctx:t}),A.$set(z);const x={};o[0]&64&&(x.data=t[6]),H.$set(x);const se={};o[0]&128&&(se.data=t[7]),o[1]&67108864&&(se.$$scope={dirty:o,ctx:t}),j.$set(se),(!te||o[0]&1)&&ee!==(ee=t[0].selected_timestamp.value+"")&&Pe(ae,ee);const ce={};o[0]&14|o[1]&67108864&&(ce.$$scope={dirty:o,ctx:t}),M.$set(ce)},i(t){te||(f(T),f(R),f(q),f(k),f($),f(g),f(h),f(c.$$.fragment,t),f(A.$$.fragment,t),f(H.$$.fragment,t),f(j.$$.fragment,t),f(M.$$.fragment,t),f(J.$$.fragment,t),te=!0)},o(t){_(T),_(R),_(q),_(k),_($),_(g),_(h),_(c.$$.fragment,t),_(A.$$.fragment,t),_(H.$$.fragment,t),_(j.$$.fragment,t),_(M.$$.fragment,t),_(J.$$.fragment,t),te=!1},d(t){t&&(d(s),d(m),d(i),d(p),d(C),d(n),d(N),d(w),d(I),d(O),d(l),d(K),d(re),d(U),d(X),d(Y),d(B),d(W)),Q.d(t),d(r),d(e),d(u),T&&T.d(t),R&&R.d(t),q&&q.d(t),k&&k.d(t),$&&$.d(t),g&&g.d(t),h&&h.d(t),D(c,t),D(A,t),D(H,t),D(j,t),D(M,t),D(J,t)}}}function wt(a,s,r){let e,u;Re(a,lt,E=>r(38,e=E)),Re(a,Ee,E=>r(44,u=E));let{data:m}=s,{data:i={},customFormattingSettings:p,__db:C,inputs:n}=m;Xe(Ee,u="4539330648b80f94ef3bf911f6d77ac9",u);let N=at(et(n));We(N.subscribe(E=>r(0,n=E))),Ze(rt,{getCustomFormats:()=>p.customFormats||[]});const w=(E,ze)=>it(C.query,E,{query_name:ze});tt(w);let I;const O=()=>{I||(I=setTimeout(()=>{Oe.add({id:"LoadingToast",title:"",message:"Loading...",status:"info"},0)},3e3))},V=()=>{I?(clearTimeout(I),I=null):Oe.dismiss("LoadingToast")};qe(()=>(P.addEventListener("inFlightQueryStart",O),P.addEventListener("inFlightQueryEnd",V),P.QueriesLoading&&O(),()=>{P.removeEventListener("inFlightQueryStart",O),P.removeEventListener("inFlightQueryEnd",V)})),e.params,qe(()=>!0);let l={initialData:void 0,initialError:void 0},c=L`select GTFS.stops.stop_id, stop_lat, stop_lon, stop_name, arrival_time, stop_sequence
from GTFS.stops JOIN GTFS.stop_times ON (GTFS.stop_times.stop_id = GTFS.stops.stop_id and GTFS.stop_times.trip_id in (select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'))
order by stop_sequence`,K=`select GTFS.stops.stop_id, stop_lat, stop_lon, stop_name, arrival_time, stop_sequence
from GTFS.stops JOIN GTFS.stop_times ON (GTFS.stop_times.stop_id = GTFS.stops.stop_id and GTFS.stop_times.trip_id in (select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'))
order by stop_sequence`;i.stops_data&&(i.stops_data instanceof Error?l.initialError=i.stops_data:l.initialData=i.stops_data,i.stops_columns&&(l.knownColumns=i.stops_columns));let A,re=!1;const H=P.createReactive({callback:E=>{r(1,A=E)},execFn:w},{id:"stops",...l});H(K,{noResolve:c,...l}),globalThis[Symbol.for("stops")]={get value(){return A}};let U={initialData:void 0,initialError:void 0},j=L`select * from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'`,X=`select * from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'`;i.rawdata_data&&(i.rawdata_data instanceof Error?U.initialError=i.rawdata_data:U.initialData=i.rawdata_data,i.rawdata_columns&&(U.knownColumns=i.rawdata_columns));let Y,ee=!1;const ae=P.createReactive({callback:E=>{r(2,Y=E)},execFn:w},{id:"rawdata",...U});ae(X,{noResolve:j,...U}),globalThis[Symbol.for("rawdata")]={get value(){return Y}};let B={initialData:void 0,initialError:void 0},M=L`select * from GTFS.shapes where shape_id in (select shape_id from GTFS.trips where trip_id in (select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'))`,W=`select * from GTFS.shapes where shape_id in (select shape_id from GTFS.trips where trip_id in (select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'))`;i.shapes_data&&(i.shapes_data instanceof Error?B.initialError=i.shapes_data:B.initialData=i.shapes_data,i.shapes_columns&&(B.knownColumns=i.shapes_columns));let J,te=!1;const $e=P.createReactive({callback:E=>{r(3,J=E)},execFn:w},{id:"shapes",...B});$e(W,{noResolve:M,...B}),globalThis[Symbol.for("shapes")]={get value(){return J}};let ie={initialData:void 0,initialError:void 0},Q=L`select shape_id from GTFS.trips where trip_id in (select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}')`,T=`select shape_id from GTFS.trips where trip_id in (select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}')`;i.trips_shapeid_data&&(i.trips_shapeid_data instanceof Error?ie.initialError=i.trips_shapeid_data:ie.initialData=i.trips_shapeid_data,i.trips_shapeid_columns&&(ie.knownColumns=i.trips_shapeid_columns));let R,q=!1;const k=P.createReactive({callback:E=>{r(4,R=E)},execFn:w},{id:"trips_shapeid",...ie});k(T,{noResolve:Q,...ie}),globalThis[Symbol.for("trips_shapeid")]={get value(){return R}};let $={initialData:void 0,initialError:void 0},g=L`select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'`,h=`select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'`;i.trips_data&&(i.trips_data instanceof Error?$.initialError=i.trips_data:$.initialData=i.trips_data,i.trips_columns&&($.knownColumns=i.trips_columns));let t,o=!1;const Z=P.createReactive({callback:E=>{r(5,t=E)},execFn:w},{id:"trips",...$});Z(h,{noResolve:g,...$}),globalThis[Symbol.for("trips")]={get value(){return t}};let z={initialData:void 0,initialError:void 0},x=L`select distinct strftime(run_timestamp, '%B %-d %Y - %I:%M:%S %p') as frts, run_id from OCTData.feedmessage`,se="select distinct strftime(run_timestamp, '%B %-d %Y - %I:%M:%S %p') as frts, run_id from OCTData.feedmessage";i.timestamps_data&&(i.timestamps_data instanceof Error?z.initialError=i.timestamps_data:z.initialData=i.timestamps_data,i.timestamps_columns&&(z.knownColumns=i.timestamps_columns));let ce,Te=!1;const he=P.createReactive({callback:E=>{r(6,ce=E)},execFn:w},{id:"timestamps",...z});he(se,{noResolve:x,...z}),globalThis[Symbol.for("timestamps")]={get value(){return ce}};let ue={initialData:void 0,initialError:void 0},me=L`select * from GTFS.routes`,ge="select * from GTFS.routes";i.routes_data&&(i.routes_data instanceof Error?ue.initialError=i.routes_data:ue.initialData=i.routes_data,i.routes_columns&&(ue.knownColumns=i.routes_columns));let Fe,Se=!1;const ye=P.createReactive({callback:E=>{r(7,Fe=E)},execFn:w},{id:"routes",...ue});return ye(ge,{noResolve:me,...ue}),globalThis[Symbol.for("routes")]={get value(){return Fe}},a.$$set=E=>{"data"in E&&r(8,m=E.data)},a.$$.update=()=>{a.$$.dirty[0]&256&&r(9,{data:i={},customFormattingSettings:p,__db:C}=m,i),a.$$.dirty[0]&512&&st.set(Object.keys(i).length>0),a.$$.dirty[1]&128&&e.params,a.$$.dirty[0]&1&&r(11,c=L`select GTFS.stops.stop_id, stop_lat, stop_lon, stop_name, arrival_time, stop_sequence
from GTFS.stops JOIN GTFS.stop_times ON (GTFS.stop_times.stop_id = GTFS.stops.stop_id and GTFS.stop_times.trip_id in (select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'))
order by stop_sequence`),a.$$.dirty[0]&1&&r(12,K=`select GTFS.stops.stop_id, stop_lat, stop_lon, stop_name, arrival_time, stop_sequence
from GTFS.stops JOIN GTFS.stop_times ON (GTFS.stop_times.stop_id = GTFS.stops.stop_id and GTFS.stop_times.trip_id in (select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'))
order by stop_sequence`),a.$$.dirty[0]&15360&&(c||!re?c||(H(K,{noResolve:c,...l}),r(13,re=!0)):H(K,{noResolve:c})),a.$$.dirty[0]&1&&r(15,j=L`select * from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'`),a.$$.dirty[0]&1&&r(16,X=`select * from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'`),a.$$.dirty[0]&245760&&(j||!ee?j||(ae(X,{noResolve:j,...U}),r(17,ee=!0)):ae(X,{noResolve:j})),a.$$.dirty[0]&1&&r(19,M=L`select * from GTFS.shapes where shape_id in (select shape_id from GTFS.trips where trip_id in (select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'))`),a.$$.dirty[0]&1&&r(20,W=`select * from GTFS.shapes where shape_id in (select shape_id from GTFS.trips where trip_id in (select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'))`),a.$$.dirty[0]&3932160&&(M||!te?M||($e(W,{noResolve:M,...B}),r(21,te=!0)):$e(W,{noResolve:M})),a.$$.dirty[0]&1&&r(23,Q=L`select shape_id from GTFS.trips where trip_id in (select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}')`),a.$$.dirty[0]&1&&r(24,T=`select shape_id from GTFS.trips where trip_id in (select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}')`),a.$$.dirty[0]&62914560&&(Q||!q?Q||(k(T,{noResolve:Q,...ie}),r(25,q=!0)):k(T,{noResolve:Q})),a.$$.dirty[0]&1&&r(27,g=L`select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'`),a.$$.dirty[0]&1&&r(28,h=`select trip_id from OCTData.feedmessage natural join GTFS.trips where run_id = '${n.selected_timestamp.value}' and trip_route = '${n.selected_route.value}'`),a.$$.dirty[0]&1006632960&&(g||!o?g||(Z(h,{noResolve:g,...$}),r(29,o=!0)):Z(h,{noResolve:g})),a.$$.dirty[0]&1073741824|a.$$.dirty[1]&7&&(x||!Te?x||(he(se,{noResolve:x,...z}),r(33,Te=!0)):he(se,{noResolve:x})),a.$$.dirty[1]&120&&(me||!Se?me||(ye(ge,{noResolve:me,...ue}),r(37,Se=!0)):ye(ge,{noResolve:me}))},r(31,x=L`select distinct strftime(run_timestamp, '%B %-d %Y - %I:%M:%S %p') as frts, run_id from OCTData.feedmessage`),r(32,se="select distinct strftime(run_timestamp, '%B %-d %Y - %I:%M:%S %p') as frts, run_id from OCTData.feedmessage"),r(35,me=L`select * from GTFS.routes`),r(36,ge="select * from GTFS.routes"),[n,A,Y,J,R,t,ce,Fe,m,i,l,c,K,re,U,j,X,ee,B,M,W,te,ie,Q,T,q,$,g,h,o,z,x,se,Te,ue,me,ge,Se,e]}class kt extends Ye{constructor(s){super(),Je(this,s,wt,vt,Ue,{data:8},null,[-1,-1])}}export{kt as component};
