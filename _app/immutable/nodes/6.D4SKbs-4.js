import{s as tt,a as q,e as Ie,b as He,t as st,c as k,h as at,d as Ne,f,g as rt,r as Ue,u as it,i as re,j as w,k as Se,l as Me,m as lt,o as ot,p as dt,q as Qe,n as ve}from"../chunks/scheduler.D4_7AI4m.js";import{S as ut,i as nt,b as T,d as I,m as N,t as _,a as p,c as ie,e as S,g as le}from"../chunks/index.DeqhCWiI.js";import"../chunks/VennDiagram.svelte_svelte_type_style_lang.VCOE_R-_.js";import{w as _t}from"../chunks/entry.CBSipulH.js";import{s as pt,Q as Y,p as ft,r as Je,C as mt,t as Be}from"../chunks/inferColumnTypes.DOzp9NDw.js";import{h as C}from"../chunks/setTrackProxy.Cyfckp0w.js";import{e as ct,p as yt}from"../chunks/inputs.BXb6Hm7i.js";import{D as Le,a as se}from"../chunks/Dropdown.911wsjkO.js";import{p as $t}from"../chunks/stores.C548N2Ne.js";import{Q as oe}from"../chunks/QueryViewer.BpTfvmih.js";import{V as vt}from"../chunks/Value.DTeo6WsV.js";import{B as Ft,P as We}from"../chunks/Points.zTcJdWLq.js";function ht(i){return{c(){this.h()},l(a){this.h()},h(){document.title="Evidence"},m:ve,p:ve,d:ve}}function Ye(i){let a,r;return a=new oe({props:{queryID:"calendar",queryResult:i[0]}}),{c(){T(a.$$.fragment)},l(e){I(a.$$.fragment,e)},m(e,n){N(a,e,n),r=!0},p(e,n){const u={};n[0]&1&&(u.queryResult=e[0]),a.$set(u)},i(e){r||(_(a.$$.fragment,e),r=!0)},o(e){p(a.$$.fragment,e),r=!1},d(e){S(a,e)}}}function Ve(i){let a,r;return a=new oe({props:{queryID:"routes",queryResult:i[1]}}),{c(){T(a.$$.fragment)},l(e){I(a.$$.fragment,e)},m(e,n){N(a,e,n),r=!0},p(e,n){const u={};n[0]&2&&(u.queryResult=e[1]),a.$set(u)},i(e){r||(_(a.$$.fragment,e),r=!0)},o(e){p(a.$$.fragment,e),r=!1},d(e){S(a,e)}}}function je(i){let a,r;return a=new oe({props:{queryID:"trips",queryResult:i[2]}}),{c(){T(a.$$.fragment)},l(e){I(a.$$.fragment,e)},m(e,n){N(a,e,n),r=!0},p(e,n){const u={};n[0]&4&&(u.queryResult=e[2]),a.$set(u)},i(e){r||(_(a.$$.fragment,e),r=!0)},o(e){p(a.$$.fragment,e),r=!1},d(e){S(a,e)}}}function Pe(i){let a,r;return a=new oe({props:{queryID:"stop_times_stops",queryResult:i[3]}}),{c(){T(a.$$.fragment)},l(e){I(a.$$.fragment,e)},m(e,n){N(a,e,n),r=!0},p(e,n){const u={};n[0]&8&&(u.queryResult=e[3]),a.$set(u)},i(e){r||(_(a.$$.fragment,e),r=!0)},o(e){p(a.$$.fragment,e),r=!1},d(e){S(a,e)}}}function ze(i){let a,r;return a=new oe({props:{queryID:"stop_times",queryResult:i[4]}}),{c(){T(a.$$.fragment)},l(e){I(a.$$.fragment,e)},m(e,n){N(a,e,n),r=!0},p(e,n){const u={};n[0]&16&&(u.queryResult=e[4]),a.$set(u)},i(e){r||(_(a.$$.fragment,e),r=!0)},o(e){p(a.$$.fragment,e),r=!1},d(e){S(a,e)}}}function Ke(i){let a,r;return a=new oe({props:{queryID:"shapes",queryResult:i[5]}}),{c(){T(a.$$.fragment)},l(e){I(a.$$.fragment,e)},m(e,n){N(a,e,n),r=!0},p(e,n){const u={};n[0]&32&&(u.queryResult=e[5]),a.$set(u)},i(e){r||(_(a.$$.fragment,e),r=!0)},o(e){p(a.$$.fragment,e),r=!1},d(e){S(a,e)}}}function Xe(i){let a,r;return a=new oe({props:{queryID:"trips_shapeid",queryResult:i[6]}}),{c(){T(a.$$.fragment)},l(e){I(a.$$.fragment,e)},m(e,n){N(a,e,n),r=!0},p(e,n){const u={};n[0]&64&&(u.queryResult=e[6]),a.$set(u)},i(e){r||(_(a.$$.fragment,e),r=!0)},o(e){p(a.$$.fragment,e),r=!1},d(e){S(a,e)}}}function Ze(i){let a,r;return a=new oe({props:{queryID:"stops",queryResult:i[7]}}),{c(){T(a.$$.fragment)},l(e){I(a.$$.fragment,e)},m(e,n){N(a,e,n),r=!0},p(e,n){const u={};n[0]&128&&(u.queryResult=e[7]),a.$set(u)},i(e){r||(_(a.$$.fragment,e),r=!0)},o(e){p(a.$$.fragment,e),r=!1},d(e){S(a,e)}}}function xe(i){let a,r;return a=new oe({props:{queryID:"select_trip_details",queryResult:i[8]}}),{c(){T(a.$$.fragment)},l(e){I(a.$$.fragment,e)},m(e,n){N(a,e,n),r=!0},p(e,n){const u={};n[0]&256&&(u.queryResult=e[8]),a.$set(u)},i(e){r||(_(a.$$.fragment,e),r=!0)},o(e){p(a.$$.fragment,e),r=!1},d(e){S(a,e)}}}function wt(i){let a,r;return a=new se({props:{valueLabel:"None",value:""}}),{c(){T(a.$$.fragment)},l(e){I(a.$$.fragment,e)},m(e,n){N(a,e,n),r=!0},p:ve,i(e){r||(_(a.$$.fragment,e),r=!0)},o(e){p(a.$$.fragment,e),r=!1},d(e){S(a,e)}}}function Tt(i){let a,r,e,n,u,l,E,L,s,V,D,H,O,Q,g,M;return a=new se({props:{valueLabel:"None",value:""}}),e=new se({props:{valueLabel:"Sunday",value:"0"}}),u=new se({props:{valueLabel:"Monday",value:"1"}}),E=new se({props:{valueLabel:"Tuesday",value:"2"}}),s=new se({props:{valueLabel:"Wednesday",value:"3"}}),D=new se({props:{valueLabel:"Thursday",value:"4"}}),O=new se({props:{valueLabel:"Friday",value:"5"}}),g=new se({props:{valueLabel:"Saturday",value:"6"}}),{c(){T(a.$$.fragment),r=q(),T(e.$$.fragment),n=q(),T(u.$$.fragment),l=q(),T(E.$$.fragment),L=q(),T(s.$$.fragment),V=q(),T(D.$$.fragment),H=q(),T(O.$$.fragment),Q=q(),T(g.$$.fragment)},l(d){I(a.$$.fragment,d),r=k(d),I(e.$$.fragment,d),n=k(d),I(u.$$.fragment,d),l=k(d),I(E.$$.fragment,d),L=k(d),I(s.$$.fragment,d),V=k(d),I(D.$$.fragment,d),H=k(d),I(O.$$.fragment,d),Q=k(d),I(g.$$.fragment,d)},m(d,m){N(a,d,m),w(d,r,m),N(e,d,m),w(d,n,m),N(u,d,m),w(d,l,m),N(E,d,m),w(d,L,m),N(s,d,m),w(d,V,m),N(D,d,m),w(d,H,m),N(O,d,m),w(d,Q,m),N(g,d,m),M=!0},p:ve,i(d){M||(_(a.$$.fragment,d),_(e.$$.fragment,d),_(u.$$.fragment,d),_(E.$$.fragment,d),_(s.$$.fragment,d),_(D.$$.fragment,d),_(O.$$.fragment,d),_(g.$$.fragment,d),M=!0)},o(d){p(a.$$.fragment,d),p(e.$$.fragment,d),p(u.$$.fragment,d),p(E.$$.fragment,d),p(s.$$.fragment,d),p(D.$$.fragment,d),p(O.$$.fragment,d),p(g.$$.fragment,d),M=!1},d(d){d&&(f(r),f(n),f(l),f(L),f(V),f(H),f(Q)),S(a,d),S(e,d),S(u,d),S(E,d),S(s,d),S(D,d),S(O,d),S(g,d)}}}function It(i){let a,r;return a=new se({props:{valueLabel:"None",value:""}}),{c(){T(a.$$.fragment)},l(e){I(a.$$.fragment,e)},m(e,n){N(a,e,n),r=!0},p:ve,i(e){r||(_(a.$$.fragment,e),r=!0)},o(e){p(a.$$.fragment,e),r=!1},d(e){S(a,e)}}}function Nt(i){let a,r,e,n;return a=new We({props:{data:i[5],lat:"shape_pt_lat",long:"shape_pt_lon",color:"blue"}}),e=new We({props:{data:i[7],lat:"stop_lat",long:"stop_lon",pointName:"stop_id",color:"red",tooltip:[{id:"stop_name",showColumnName:!1,valueClass:"text-xl font-semibold"},{id:"arrival_time",fmt:"arrival_time",showColumnName:!1,valueClass:"text-xl font-semibold"},{id:"stop_id",fmt:"0000",showColumnName:!0}]}}),{c(){T(a.$$.fragment),r=q(),T(e.$$.fragment)},l(u){I(a.$$.fragment,u),r=k(u),I(e.$$.fragment,u)},m(u,l){N(a,u,l),w(u,r,l),N(e,u,l),n=!0},p(u,l){const E={};l[0]&32&&(E.data=u[5]),a.$set(E);const L={};l[0]&128&&(L.data=u[7]),e.$set(L)},i(u){n||(_(a.$$.fragment,u),_(e.$$.fragment,u),n=!0)},o(u){p(a.$$.fragment,u),p(e.$$.fragment,u),n=!1},d(u){u&&f(r),S(a,u),S(e,u)}}}function St(i){let a,r,e,n,u,l,E,L,s,V,D,H,O,Q,g,M='<a href="#find-a-trip">find a trip</a>',d,m,de,P,z,U,te,K,x,X,ee,Z,J,ue;function Fe(t,o){return ht}let j=Fe()(i),c=i[0]&&Ye(i),F=i[1]&&Ve(i),G=i[2]&&je(i),b=i[3]&&Pe(i),A=i[4]&&ze(i),y=i[5]&&Ke(i),$=i[6]&&Xe(i),h=i[7]&&Ze(i),R=i[8]&&xe(i);return m=new Le({props:{data:i[1],title:"Select a route",name:"selected_route",value:"route_id",label:"displayName",$$slots:{default:[wt]},$$scope:{ctx:i}}}),P=new Le({props:{title:"Select a day of week",name:"selected_day",$$slots:{default:[Tt]},$$scope:{ctx:i}}}),U=new Le({props:{data:i[4],title:"Select a Trip",name:"selected_trip",value:"trip_id",label:"arrival_time",$$slots:{default:[It]},$$scope:{ctx:i}}}),X=new vt({props:{data:i[8],column:"displayName"}}),J=new Ft({props:{height:"600",title:"Route Map",$$slots:{default:[Nt]},$$scope:{ctx:i}}}),{c(){a=q(),j.c(),r=Ie("meta"),e=Ie("meta"),n=He(),u=q(),c&&c.c(),l=q(),F&&F.c(),E=q(),G&&G.c(),L=q(),b&&b.c(),s=q(),A&&A.c(),V=q(),y&&y.c(),D=q(),$&&$.c(),H=q(),h&&h.c(),O=q(),R&&R.c(),Q=q(),g=Ie("h1"),g.innerHTML=M,d=q(),T(m.$$.fragment),de=q(),T(P.$$.fragment),z=q(),T(U.$$.fragment),te=q(),K=Ie("h2"),x=Ie("a"),T(X.$$.fragment),ee=st(" details:"),Z=q(),T(J.$$.fragment),this.h()},l(t){a=k(t);const o=at("svelte-1j2izld",document.head);j.l(o),r=Ne(o,"META",{name:!0,content:!0}),e=Ne(o,"META",{name:!0,content:!0}),n=He(),o.forEach(f),u=k(t),c&&c.l(t),l=k(t),F&&F.l(t),E=k(t),G&&G.l(t),L=k(t),b&&b.l(t),s=k(t),A&&A.l(t),V=k(t),y&&y.l(t),D=k(t),$&&$.l(t),H=k(t),h&&h.l(t),O=k(t),R&&R.l(t),Q=k(t),g=Ne(t,"H1",{class:!0,id:!0,"data-svelte-h":!0}),rt(g)!=="svelte-111ggub"&&(g.innerHTML=M),d=k(t),I(m.$$.fragment,t),de=k(t),I(P.$$.fragment,t),z=k(t),I(U.$$.fragment,t),te=k(t),K=Ne(t,"H2",{class:!0,id:!0});var B=Ue(K);x=Ne(B,"A",{href:!0});var W=Ue(x);I(X.$$.fragment,W),ee=it(W," details:"),W.forEach(f),B.forEach(f),Z=k(t),I(J.$$.fragment,t),this.h()},h(){re(r,"name","twitter:card"),re(r,"content","summary"),re(e,"name","twitter:site"),re(e,"content","@evidence_dev"),re(g,"class","markdown"),re(g,"id","find-a-trip"),re(x,"href","#-details"),re(K,"class","markdown"),re(K,"id","-details")},m(t,o){w(t,a,o),j.m(document.head,null),Se(document.head,r),Se(document.head,e),Se(document.head,n),w(t,u,o),c&&c.m(t,o),w(t,l,o),F&&F.m(t,o),w(t,E,o),G&&G.m(t,o),w(t,L,o),b&&b.m(t,o),w(t,s,o),A&&A.m(t,o),w(t,V,o),y&&y.m(t,o),w(t,D,o),$&&$.m(t,o),w(t,H,o),h&&h.m(t,o),w(t,O,o),R&&R.m(t,o),w(t,Q,o),w(t,g,o),w(t,d,o),N(m,t,o),w(t,de,o),N(P,t,o),w(t,z,o),N(U,t,o),w(t,te,o),w(t,K,o),Se(K,x),N(X,x,null),Se(x,ee),w(t,Z,o),N(J,t,o),ue=!0},p(t,o){j.p(t,o),t[0]?c?(c.p(t,o),o[0]&1&&_(c,1)):(c=Ye(t),c.c(),_(c,1),c.m(l.parentNode,l)):c&&(le(),p(c,1,1,()=>{c=null}),ie()),t[1]?F?(F.p(t,o),o[0]&2&&_(F,1)):(F=Ve(t),F.c(),_(F,1),F.m(E.parentNode,E)):F&&(le(),p(F,1,1,()=>{F=null}),ie()),t[2]?G?(G.p(t,o),o[0]&4&&_(G,1)):(G=je(t),G.c(),_(G,1),G.m(L.parentNode,L)):G&&(le(),p(G,1,1,()=>{G=null}),ie()),t[3]?b?(b.p(t,o),o[0]&8&&_(b,1)):(b=Pe(t),b.c(),_(b,1),b.m(s.parentNode,s)):b&&(le(),p(b,1,1,()=>{b=null}),ie()),t[4]?A?(A.p(t,o),o[0]&16&&_(A,1)):(A=ze(t),A.c(),_(A,1),A.m(V.parentNode,V)):A&&(le(),p(A,1,1,()=>{A=null}),ie()),t[5]?y?(y.p(t,o),o[0]&32&&_(y,1)):(y=Ke(t),y.c(),_(y,1),y.m(D.parentNode,D)):y&&(le(),p(y,1,1,()=>{y=null}),ie()),t[6]?$?($.p(t,o),o[0]&64&&_($,1)):($=Xe(t),$.c(),_($,1),$.m(H.parentNode,H)):$&&(le(),p($,1,1,()=>{$=null}),ie()),t[7]?h?(h.p(t,o),o[0]&128&&_(h,1)):(h=Ze(t),h.c(),_(h,1),h.m(O.parentNode,O)):h&&(le(),p(h,1,1,()=>{h=null}),ie()),t[8]?R?(R.p(t,o),o[0]&256&&_(R,1)):(R=xe(t),R.c(),_(R,1),R.m(Q.parentNode,Q)):R&&(le(),p(R,1,1,()=>{R=null}),ie());const B={};o[0]&2&&(B.data=t[1]),o[2]&128&&(B.$$scope={dirty:o,ctx:t}),m.$set(B);const W={};o[2]&128&&(W.$$scope={dirty:o,ctx:t}),P.$set(W);const ae={};o[0]&16&&(ae.data=t[4]),o[2]&128&&(ae.$$scope={dirty:o,ctx:t}),U.$set(ae);const ye={};o[0]&256&&(ye.data=t[8]),X.$set(ye);const $e={};o[0]&160|o[2]&128&&($e.$$scope={dirty:o,ctx:t}),J.$set($e)},i(t){ue||(_(c),_(F),_(G),_(b),_(A),_(y),_($),_(h),_(R),_(m.$$.fragment,t),_(P.$$.fragment,t),_(U.$$.fragment,t),_(X.$$.fragment,t),_(J.$$.fragment,t),ue=!0)},o(t){p(c),p(F),p(G),p(b),p(A),p(y),p($),p(h),p(R),p(m.$$.fragment,t),p(P.$$.fragment,t),p(U.$$.fragment,t),p(X.$$.fragment,t),p(J.$$.fragment,t),ue=!1},d(t){t&&(f(a),f(u),f(l),f(E),f(L),f(s),f(V),f(D),f(H),f(O),f(Q),f(g),f(d),f(de),f(z),f(te),f(K),f(Z)),j.d(t),f(r),f(e),f(n),c&&c.d(t),F&&F.d(t),G&&G.d(t),b&&b.d(t),A&&A.d(t),y&&y.d(t),$&&$.d(t),h&&h.d(t),R&&R.d(t),S(m,t),S(P,t),S(U,t),S(X),S(J,t)}}}function Dt(i,a,r){let e,n;Me(i,$t,v=>r(48,e=v)),Me(i,Je,v=>r(54,n=v));let{data:u}=a,{data:l={},customFormattingSettings:E,__db:L,inputs:s}=u;lt(Je,n="c74700071d94fab23aba68b5f8a5b93d",n);let V=ct(_t(s));ot(V.subscribe(v=>r(11,s=v))),dt(mt,{getCustomFormats:()=>E.customFormats||[]});const D=(v,et)=>yt(L.query,v,{query_name:et});pt(D);let H;const O=()=>{H||(H=setTimeout(()=>{Be.add({id:"LoadingToast",title:"",message:"Loading...",status:"info"},0)},3e3))},Q=()=>{H?(clearTimeout(H),H=null):Be.dismiss("LoadingToast")};Qe(()=>(Y.addEventListener("inFlightQueryStart",O),Y.addEventListener("inFlightQueryEnd",Q),Y.QueriesLoading&&O(),()=>{Y.removeEventListener("inFlightQueryStart",O),Y.removeEventListener("inFlightQueryEnd",Q)})),e.params,Qe(()=>!0);let g={initialData:void 0,initialError:void 0},M=C`select service_id from calendar
where 
    sunday = IF('${s.selected_day.value}' = '0',true,false) AND
    monday = IF('${s.selected_day.value}' = '1',true,false) AND
    tuesday = IF('${s.selected_day.value}' = '2',true,false) AND
    wednesday = IF('${s.selected_day.value}' = '3',true,false) AND
    thursday = IF('${s.selected_day.value}' = '4',true,false) AND
    friday = IF('${s.selected_day.value}' = '5',true,false) AND
    saturday = IF('${s.selected_day.value}' = '6',true,false)`,d=`select service_id from calendar
where 
    sunday = IF('${s.selected_day.value}' = '0',true,false) AND
    monday = IF('${s.selected_day.value}' = '1',true,false) AND
    tuesday = IF('${s.selected_day.value}' = '2',true,false) AND
    wednesday = IF('${s.selected_day.value}' = '3',true,false) AND
    thursday = IF('${s.selected_day.value}' = '4',true,false) AND
    friday = IF('${s.selected_day.value}' = '5',true,false) AND
    saturday = IF('${s.selected_day.value}' = '6',true,false)`;l.calendar_data&&(l.calendar_data instanceof Error?g.initialError=l.calendar_data:g.initialData=l.calendar_data,l.calendar_columns&&(g.knownColumns=l.calendar_columns));let m,de=!1;const P=Y.createReactive({callback:v=>{r(0,m=v)},execFn:D},{id:"calendar",...g});P(d,{noResolve:M,...g}),globalThis[Symbol.for("calendar")]={get value(){return m}};let z={initialData:void 0,initialError:void 0},U=C`select *, route_id || ' ' || route_long_name as displayName from GTFS.routes`,te="select *, route_id || ' ' || route_long_name as displayName from GTFS.routes";l.routes_data&&(l.routes_data instanceof Error?z.initialError=l.routes_data:z.initialData=l.routes_data,l.routes_columns&&(z.knownColumns=l.routes_columns));let K,x=!1;const X=Y.createReactive({callback:v=>{r(1,K=v)},execFn:D},{id:"routes",...z});X(te,{noResolve:U,...z}),globalThis[Symbol.for("routes")]={get value(){return K}};let ee={initialData:void 0,initialError:void 0},Z=C`select trip_id from GTFS.trips where route_id = '${s.selected_route.value}' and service_id in (select service_id from calendar
where 
    sunday = IF('${s.selected_day.value}' = '0',true,false) AND
    monday = IF('${s.selected_day.value}' = '1',true,false) AND
    tuesday = IF('${s.selected_day.value}' = '2',true,false) AND
    wednesday = IF('${s.selected_day.value}' = '3',true,false) AND
    thursday = IF('${s.selected_day.value}' = '4',true,false) AND
    friday = IF('${s.selected_day.value}' = '5',true,false) AND
    saturday = IF('${s.selected_day.value}' = '6',true,false))`,J=`select trip_id from GTFS.trips where route_id = '${s.selected_route.value}' and service_id in (select service_id from calendar
where 
    sunday = IF('${s.selected_day.value}' = '0',true,false) AND
    monday = IF('${s.selected_day.value}' = '1',true,false) AND
    tuesday = IF('${s.selected_day.value}' = '2',true,false) AND
    wednesday = IF('${s.selected_day.value}' = '3',true,false) AND
    thursday = IF('${s.selected_day.value}' = '4',true,false) AND
    friday = IF('${s.selected_day.value}' = '5',true,false) AND
    saturday = IF('${s.selected_day.value}' = '6',true,false))`;l.trips_data&&(l.trips_data instanceof Error?ee.initialError=l.trips_data:ee.initialData=l.trips_data,l.trips_columns&&(ee.knownColumns=l.trips_columns));let ue,Fe=!1;const De=Y.createReactive({callback:v=>{r(2,ue=v)},execFn:D},{id:"trips",...ee});De(J,{noResolve:Z,...ee}),globalThis[Symbol.for("trips")]={get value(){return ue}};let j={initialData:void 0,initialError:void 0},c=C`select stop_id from GTFS.stop_times where trip_id = '${s.selected_trip.value}'`,F=`select stop_id from GTFS.stop_times where trip_id = '${s.selected_trip.value}'`;l.stop_times_stops_data&&(l.stop_times_stops_data instanceof Error?j.initialError=l.stop_times_stops_data:j.initialData=l.stop_times_stops_data,l.stop_times_stops_columns&&(j.knownColumns=l.stop_times_stops_columns));let G,b=!1;const A=Y.createReactive({callback:v=>{r(3,G=v)},execFn:D},{id:"stop_times_stops",...j});A(F,{noResolve:c,...j}),globalThis[Symbol.for("stop_times_stops")]={get value(){return G}};let y={initialData:void 0,initialError:void 0},$=C`select DISTINCT ON(arrival_time) *  from GTFS.stop_times where trip_id in (select trip_id from GTFS.trips where route_id = '${s.selected_route.value}' and service_id in (select service_id from calendar
where 
    sunday = IF('${s.selected_day.value}' = '0',true,false) AND
    monday = IF('${s.selected_day.value}' = '1',true,false) AND
    tuesday = IF('${s.selected_day.value}' = '2',true,false) AND
    wednesday = IF('${s.selected_day.value}' = '3',true,false) AND
    thursday = IF('${s.selected_day.value}' = '4',true,false) AND
    friday = IF('${s.selected_day.value}' = '5',true,false) AND
    saturday = IF('${s.selected_day.value}' = '6',true,false))) and stop_sequence = 1 ORDER BY arrival_time`,h=`select DISTINCT ON(arrival_time) *  from GTFS.stop_times where trip_id in (select trip_id from GTFS.trips where route_id = '${s.selected_route.value}' and service_id in (select service_id from calendar
where 
    sunday = IF('${s.selected_day.value}' = '0',true,false) AND
    monday = IF('${s.selected_day.value}' = '1',true,false) AND
    tuesday = IF('${s.selected_day.value}' = '2',true,false) AND
    wednesday = IF('${s.selected_day.value}' = '3',true,false) AND
    thursday = IF('${s.selected_day.value}' = '4',true,false) AND
    friday = IF('${s.selected_day.value}' = '5',true,false) AND
    saturday = IF('${s.selected_day.value}' = '6',true,false))) and stop_sequence = 1 ORDER BY arrival_time`;l.stop_times_data&&(l.stop_times_data instanceof Error?y.initialError=l.stop_times_data:y.initialData=l.stop_times_data,l.stop_times_columns&&(y.knownColumns=l.stop_times_columns));let R,t=!1;const o=Y.createReactive({callback:v=>{r(4,R=v)},execFn:D},{id:"stop_times",...y});o(h,{noResolve:$,...y}),globalThis[Symbol.for("stop_times")]={get value(){return R}};let B={initialData:void 0,initialError:void 0},W=C`select * from GTFS.shapes where shape_id in (select shape_id from GTFS.trips where trip_id like '${s.selected_trip.value}')`,ae=`select * from GTFS.shapes where shape_id in (select shape_id from GTFS.trips where trip_id like '${s.selected_trip.value}')`;l.shapes_data&&(l.shapes_data instanceof Error?B.initialError=l.shapes_data:B.initialData=l.shapes_data,l.shapes_columns&&(B.knownColumns=l.shapes_columns));let ye,$e=!1;const ge=Y.createReactive({callback:v=>{r(5,ye=v)},execFn:D},{id:"shapes",...B});ge(ae,{noResolve:W,...B}),globalThis[Symbol.for("shapes")]={get value(){return ye}};let ne={initialData:void 0,initialError:void 0},_e=C`select shape_id from GTFS.trips where trip_id like '${s.selected_trip.value}'`,he=`select shape_id from GTFS.trips where trip_id like '${s.selected_trip.value}'`;l.trips_shapeid_data&&(l.trips_shapeid_data instanceof Error?ne.initialError=l.trips_shapeid_data:ne.initialData=l.trips_shapeid_data,l.trips_shapeid_columns&&(ne.knownColumns=l.trips_shapeid_columns));let Ge,be=!1;const Ae=Y.createReactive({callback:v=>{r(6,Ge=v)},execFn:D},{id:"trips_shapeid",...ne});Ae(he,{noResolve:_e,...ne}),globalThis[Symbol.for("trips_shapeid")]={get value(){return Ge}};let pe={initialData:void 0,initialError:void 0},fe=C`select GTFS.stops.stop_id, stop_lat, stop_lon, stop_name, arrival_time, stop_sequence
from GTFS.stops JOIN GTFS.stop_times ON (GTFS.stop_times.stop_id = GTFS.stops.stop_id and GTFS.stop_times.trip_id = '${s.selected_trip.value}')
order by stop_sequence`,we=`select GTFS.stops.stop_id, stop_lat, stop_lon, stop_name, arrival_time, stop_sequence
from GTFS.stops JOIN GTFS.stop_times ON (GTFS.stop_times.stop_id = GTFS.stops.stop_id and GTFS.stop_times.trip_id = '${s.selected_trip.value}')
order by stop_sequence`;l.stops_data&&(l.stops_data instanceof Error?pe.initialError=l.stops_data:pe.initialData=l.stops_data,l.stops_columns&&(pe.knownColumns=l.stops_columns));let Re,qe=!1;const ke=Y.createReactive({callback:v=>{r(7,Re=v)},execFn:D},{id:"stops",...pe});ke(we,{noResolve:fe,...pe}),globalThis[Symbol.for("stops")]={get value(){return Re}};let me={initialData:void 0,initialError:void 0},ce=C`select 
    GTFS.trips.trip_id, trip_headsign || ' - ' ||
    case 
    when monday = true then 'Monday'
    when tuesday = true then 'Tuesday'
    when wednesday = true then 'Wednesday'
    when thursday = true then 'Thursday'
    when friday = true then 'Friday'
    when saturday = true then 'Saturday'
    when sunday = true then 'Sunday'
    end || ' @ ' || arrival_time as displayName
from (GTFS.trips NATURAL JOIN GTFS.calendar) INNER JOIN GTFS.stop_times on GTFS.trips.trip_id = GTFS.stop_times.trip_id and GTFS.stop_times.stop_sequence = 1
where GTFS.trips.trip_id = '${s.selected_trip.value}'`,Te=`select 
    GTFS.trips.trip_id, trip_headsign || ' - ' ||
    case 
    when monday = true then 'Monday'
    when tuesday = true then 'Tuesday'
    when wednesday = true then 'Wednesday'
    when thursday = true then 'Thursday'
    when friday = true then 'Friday'
    when saturday = true then 'Saturday'
    when sunday = true then 'Sunday'
    end || ' @ ' || arrival_time as displayName
from (GTFS.trips NATURAL JOIN GTFS.calendar) INNER JOIN GTFS.stop_times on GTFS.trips.trip_id = GTFS.stop_times.trip_id and GTFS.stop_times.stop_sequence = 1
where GTFS.trips.trip_id = '${s.selected_trip.value}'`;l.select_trip_details_data&&(l.select_trip_details_data instanceof Error?me.initialError=l.select_trip_details_data:me.initialData=l.select_trip_details_data,l.select_trip_details_columns&&(me.knownColumns=l.select_trip_details_columns));let Ee,Oe=!1;const Ce=Y.createReactive({callback:v=>{r(8,Ee=v)},execFn:D},{id:"select_trip_details",...me});return Ce(Te,{noResolve:ce,...me}),globalThis[Symbol.for("select_trip_details")]={get value(){return Ee}},i.$$set=v=>{"data"in v&&r(9,u=v.data)},i.$$.update=()=>{i.$$.dirty[0]&512&&r(10,{data:l={},customFormattingSettings:E,__db:L}=u,l),i.$$.dirty[0]&1024&&ft.set(Object.keys(l).length>0),i.$$.dirty[1]&131072&&e.params,i.$$.dirty[0]&2048&&r(13,M=C`select service_id from calendar
where 
    sunday = IF('${s.selected_day.value}' = '0',true,false) AND
    monday = IF('${s.selected_day.value}' = '1',true,false) AND
    tuesday = IF('${s.selected_day.value}' = '2',true,false) AND
    wednesday = IF('${s.selected_day.value}' = '3',true,false) AND
    thursday = IF('${s.selected_day.value}' = '4',true,false) AND
    friday = IF('${s.selected_day.value}' = '5',true,false) AND
    saturday = IF('${s.selected_day.value}' = '6',true,false)`),i.$$.dirty[0]&2048&&r(14,d=`select service_id from calendar
where 
    sunday = IF('${s.selected_day.value}' = '0',true,false) AND
    monday = IF('${s.selected_day.value}' = '1',true,false) AND
    tuesday = IF('${s.selected_day.value}' = '2',true,false) AND
    wednesday = IF('${s.selected_day.value}' = '3',true,false) AND
    thursday = IF('${s.selected_day.value}' = '4',true,false) AND
    friday = IF('${s.selected_day.value}' = '5',true,false) AND
    saturday = IF('${s.selected_day.value}' = '6',true,false)`),i.$$.dirty[0]&61440&&(M||!de?M||(P(d,{noResolve:M,...g}),r(15,de=!0)):P(d,{noResolve:M})),i.$$.dirty[0]&983040&&(U||!x?U||(X(te,{noResolve:U,...z}),r(19,x=!0)):X(te,{noResolve:U})),i.$$.dirty[0]&2048&&r(21,Z=C`select trip_id from GTFS.trips where route_id = '${s.selected_route.value}' and service_id in (select service_id from calendar
where 
    sunday = IF('${s.selected_day.value}' = '0',true,false) AND
    monday = IF('${s.selected_day.value}' = '1',true,false) AND
    tuesday = IF('${s.selected_day.value}' = '2',true,false) AND
    wednesday = IF('${s.selected_day.value}' = '3',true,false) AND
    thursday = IF('${s.selected_day.value}' = '4',true,false) AND
    friday = IF('${s.selected_day.value}' = '5',true,false) AND
    saturday = IF('${s.selected_day.value}' = '6',true,false))`),i.$$.dirty[0]&2048&&r(22,J=`select trip_id from GTFS.trips where route_id = '${s.selected_route.value}' and service_id in (select service_id from calendar
where 
    sunday = IF('${s.selected_day.value}' = '0',true,false) AND
    monday = IF('${s.selected_day.value}' = '1',true,false) AND
    tuesday = IF('${s.selected_day.value}' = '2',true,false) AND
    wednesday = IF('${s.selected_day.value}' = '3',true,false) AND
    thursday = IF('${s.selected_day.value}' = '4',true,false) AND
    friday = IF('${s.selected_day.value}' = '5',true,false) AND
    saturday = IF('${s.selected_day.value}' = '6',true,false))`),i.$$.dirty[0]&15728640&&(Z||!Fe?Z||(De(J,{noResolve:Z,...ee}),r(23,Fe=!0)):De(J,{noResolve:Z})),i.$$.dirty[0]&2048&&r(25,c=C`select stop_id from GTFS.stop_times where trip_id = '${s.selected_trip.value}'`),i.$$.dirty[0]&2048&&r(26,F=`select stop_id from GTFS.stop_times where trip_id = '${s.selected_trip.value}'`),i.$$.dirty[0]&251658240&&(c||!b?c||(A(F,{noResolve:c,...j}),r(27,b=!0)):A(F,{noResolve:c})),i.$$.dirty[0]&2048&&r(29,$=C`select DISTINCT ON(arrival_time) *  from GTFS.stop_times where trip_id in (select trip_id from GTFS.trips where route_id = '${s.selected_route.value}' and service_id in (select service_id from calendar
where 
    sunday = IF('${s.selected_day.value}' = '0',true,false) AND
    monday = IF('${s.selected_day.value}' = '1',true,false) AND
    tuesday = IF('${s.selected_day.value}' = '2',true,false) AND
    wednesday = IF('${s.selected_day.value}' = '3',true,false) AND
    thursday = IF('${s.selected_day.value}' = '4',true,false) AND
    friday = IF('${s.selected_day.value}' = '5',true,false) AND
    saturday = IF('${s.selected_day.value}' = '6',true,false))) and stop_sequence = 1 ORDER BY arrival_time`),i.$$.dirty[0]&2048&&r(30,h=`select DISTINCT ON(arrival_time) *  from GTFS.stop_times where trip_id in (select trip_id from GTFS.trips where route_id = '${s.selected_route.value}' and service_id in (select service_id from calendar
where 
    sunday = IF('${s.selected_day.value}' = '0',true,false) AND
    monday = IF('${s.selected_day.value}' = '1',true,false) AND
    tuesday = IF('${s.selected_day.value}' = '2',true,false) AND
    wednesday = IF('${s.selected_day.value}' = '3',true,false) AND
    thursday = IF('${s.selected_day.value}' = '4',true,false) AND
    friday = IF('${s.selected_day.value}' = '5',true,false) AND
    saturday = IF('${s.selected_day.value}' = '6',true,false))) and stop_sequence = 1 ORDER BY arrival_time`),i.$$.dirty[0]&1879048192|i.$$.dirty[1]&1&&($||!t?$||(o(h,{noResolve:$,...y}),r(31,t=!0)):o(h,{noResolve:$})),i.$$.dirty[0]&2048&&r(33,W=C`select * from GTFS.shapes where shape_id in (select shape_id from GTFS.trips where trip_id like '${s.selected_trip.value}')`),i.$$.dirty[0]&2048&&r(34,ae=`select * from GTFS.shapes where shape_id in (select shape_id from GTFS.trips where trip_id like '${s.selected_trip.value}')`),i.$$.dirty[1]&30&&(W||!$e?W||(ge(ae,{noResolve:W,...B}),r(35,$e=!0)):ge(ae,{noResolve:W})),i.$$.dirty[0]&2048&&r(37,_e=C`select shape_id from GTFS.trips where trip_id like '${s.selected_trip.value}'`),i.$$.dirty[0]&2048&&r(38,he=`select shape_id from GTFS.trips where trip_id like '${s.selected_trip.value}'`),i.$$.dirty[1]&480&&(_e||!be?_e||(Ae(he,{noResolve:_e,...ne}),r(39,be=!0)):Ae(he,{noResolve:_e})),i.$$.dirty[0]&2048&&r(41,fe=C`select GTFS.stops.stop_id, stop_lat, stop_lon, stop_name, arrival_time, stop_sequence
from GTFS.stops JOIN GTFS.stop_times ON (GTFS.stop_times.stop_id = GTFS.stops.stop_id and GTFS.stop_times.trip_id = '${s.selected_trip.value}')
order by stop_sequence`),i.$$.dirty[0]&2048&&r(42,we=`select GTFS.stops.stop_id, stop_lat, stop_lon, stop_name, arrival_time, stop_sequence
from GTFS.stops JOIN GTFS.stop_times ON (GTFS.stop_times.stop_id = GTFS.stops.stop_id and GTFS.stop_times.trip_id = '${s.selected_trip.value}')
order by stop_sequence`),i.$$.dirty[1]&7680&&(fe||!qe?fe||(ke(we,{noResolve:fe,...pe}),r(43,qe=!0)):ke(we,{noResolve:fe})),i.$$.dirty[0]&2048&&r(45,ce=C`select 
    GTFS.trips.trip_id, trip_headsign || ' - ' ||
    case 
    when monday = true then 'Monday'
    when tuesday = true then 'Tuesday'
    when wednesday = true then 'Wednesday'
    when thursday = true then 'Thursday'
    when friday = true then 'Friday'
    when saturday = true then 'Saturday'
    when sunday = true then 'Sunday'
    end || ' @ ' || arrival_time as displayName
from (GTFS.trips NATURAL JOIN GTFS.calendar) INNER JOIN GTFS.stop_times on GTFS.trips.trip_id = GTFS.stop_times.trip_id and GTFS.stop_times.stop_sequence = 1
where GTFS.trips.trip_id = '${s.selected_trip.value}'`),i.$$.dirty[0]&2048&&r(46,Te=`select 
    GTFS.trips.trip_id, trip_headsign || ' - ' ||
    case 
    when monday = true then 'Monday'
    when tuesday = true then 'Tuesday'
    when wednesday = true then 'Wednesday'
    when thursday = true then 'Thursday'
    when friday = true then 'Friday'
    when saturday = true then 'Saturday'
    when sunday = true then 'Sunday'
    end || ' @ ' || arrival_time as displayName
from (GTFS.trips NATURAL JOIN GTFS.calendar) INNER JOIN GTFS.stop_times on GTFS.trips.trip_id = GTFS.stop_times.trip_id and GTFS.stop_times.stop_sequence = 1
where GTFS.trips.trip_id = '${s.selected_trip.value}'`),i.$$.dirty[1]&122880&&(ce||!Oe?ce||(Ce(Te,{noResolve:ce,...me}),r(47,Oe=!0)):Ce(Te,{noResolve:ce}))},r(17,U=C`select *, route_id || ' ' || route_long_name as displayName from GTFS.routes`),r(18,te="select *, route_id || ' ' || route_long_name as displayName from GTFS.routes"),[m,K,ue,G,R,ye,Ge,Re,Ee,u,l,s,g,M,d,de,z,U,te,x,ee,Z,J,Fe,j,c,F,b,y,$,h,t,B,W,ae,$e,ne,_e,he,be,pe,fe,we,qe,me,ce,Te,Oe,e]}class Ut extends ut{constructor(a){super(),nt(this,a,Dt,St,tt,{data:9},null,[-1,-1,-1])}}export{Ut as component};
